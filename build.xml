<?xml version="1.0" encoding="utf-8"?>
<project name="PushTheButton" default="main" basedir=".">
	<property environment="env"/>
	<property file="build.properties" />
	
	<!-- flex task definitions -->
 	<taskdef resource="flexTasks.tasks" classpath="${FLEX_HOME}/ant/lib/flexTasks.jar" />

 	<!-- remove generated files -->
	<target name="clean">
		<delete dir="${BIN_DIR}" />
		<delete dir="${DOC_DIR}" />
	</target>
	
	<!-- build project -->
	<target name="debug" >
		<mkdir dir="${BIN_DIR}" />
		<mxmlc
			file="${MAIN_FILE}" 
			output="${BIN_DIR}/${PROJECT}.swf"
			debug="true" 
			incremental="true"
			strict="false"
			accessible="false"
			actionscript-file-encoding="UTF-8"
			keep-generated-actionscript="true"
			static-link-runtime-shared-libraries="true"
			optimize="false"
			target-player="10.1">

			<source-path path-element="${SRC_DIR}" />
		</mxmlc>
	</target>
	
	<target name="release" >
		<mkdir dir="${BIN_DIR}" />
		<mxmlc
			file="${MAIN_FILE}" 
			output="${BIN_DIR}/${PROJECT}.swf"
			debug="false" 
			incremental="false"
			strict="true"
			accessible="false"
			actionscript-file-encoding="UTF-8"
			keep-generated-actionscript="false"
			static-link-runtime-shared-libraries="true"
			optimize="true"
			target-player="10.1">

			<!-- Set size of output SWF file. -->
    		<default-size width="${SWF_WIDTH}" height="${SWF_HEIGHT}" />

			<source-path path-element="${SRC_DIR}" />
		</mxmlc>
	</target>

	<target name="preloader" >
		<mkdir dir="${BIN_DIR}" />
		<mxmlc
			file="${PRELOADER_FILE}" 
			output="${BIN_DIR}/preloader.swf"
			debug="false" 
			incremental="false"
			strict="true"
			accessible="false"
			actionscript-file-encoding="UTF-8"
			keep-generated-actionscript="false"
			static-link-runtime-shared-libraries="true"
			optimize="true"
			target-player="10.1">

			<!-- Set size of output SWF file. -->
    		<default-size width="${SWF_WIDTH}" height="${SWF_HEIGHT}" />
			
			<source-path path-element="${SRC_DIR}" />
		</mxmlc>
	</target>
	
	<target name="main" depends="debug"/>
</project>
